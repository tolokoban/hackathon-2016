{"intl":"","src":"require( 'tfw.listeners', function(exports, module) {  /**\r\n * Gestion d'une liste de fonctions devant réagir à des événements.\r\n * @class\r\n */\r\nvar Listeners = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Ajouter un __listener__ à la liste.\r\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\r\n * @return false  si le __listener__  n'a pas été ajouté  (parce qu'il\r\n * existe déjà ou parce qu'il n'est pas une fonction).\r\n */\r\nListeners.prototype.add = function(listener, obj) {\r\n    if (typeof listener !== 'function') return false;\r\n    this.remove(listener);\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        if (listener === this._list[i]) return false;\r\n    }\r\n    this._list.push([listener, obj]);\r\n    return true;\r\n};\r\n\r\n/**\r\n * Supprimer le __listener__ de la liste.\r\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\r\n * @return false si le __listener__  n'existe pas.\r\n */\r\nListeners.prototype.remove = function(listener, obj) {\r\n    if (typeof listener !== 'function') return false;\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        var x = this._list[i];\r\n        if (listener === x[0] && obj === x[1]) {\r\n            this._list.splice(i, 1);            \r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Supprimer tous les __listeners__ de la liste.\r\n */\r\nListeners.prototype.clear = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Emettre l'événement. Si un listener retourne ```false```, on n'appelle pas les listeners suivants.\r\n */\r\nListeners.prototype.fire = function() {\r\n    var i, listener, obj, x,\r\n        args = [].slice.call( arguments );\r\n    for (i = 0 ; i < this._list.length ; i++) {\r\n        x = this._list[i];\r\n        listener = x[0];\r\n        obj = x[1];\r\n        if (false === listener.apply(obj, args)) return false;\r\n    }    \r\n    return true;\r\n};\r\n\r\n\r\nmodule.exports = Listeners;\r\n });\r\n","zip":"require(\"tfw.listeners\",function(t,i){var r=function(){this._list=[]};r.prototype.add=function(t,i){if(\"function\"!=typeof t)return!1;this.remove(t);for(var r=0;r<this._list.length;r++)if(t===this._list[r])return!1;return this._list.push([t,i]),!0},r.prototype.remove=function(t,i){if(\"function\"!=typeof t)return!1;for(var r=0;r<this._list.length;r++){var e=this._list[r];if(t===e[0]&&i===e[1])return this._list.splice(r,1),!0}return!1},r.prototype.clear=function(){this._list=[]},r.prototype.fire=function(){var t,i,r,e,n=[].slice.call(arguments);for(t=0;t<this._list.length;t++)if(e=this._list[t],i=e[0],r=e[1],!1===i.apply(r,n))return!1;return!0},i.exports=r});\n//# sourceMappingURL=tfw.listeners.js.map","map":{"version":3,"file":"tfw.listeners.js.map","sources":["tfw.listeners.js"],"sourcesContent":["require( 'tfw.listeners', function(exports, module) {  /**\r\n * Gestion d'une liste de fonctions devant réagir à des événements.\r\n * @class\r\n */\r\nvar Listeners = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Ajouter un __listener__ à la liste.\r\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\r\n * @return false  si le __listener__  n'a pas été ajouté  (parce qu'il\r\n * existe déjà ou parce qu'il n'est pas une fonction).\r\n */\r\nListeners.prototype.add = function(listener, obj) {\r\n    if (typeof listener !== 'function') return false;\r\n    this.remove(listener);\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        if (listener === this._list[i]) return false;\r\n    }\r\n    this._list.push([listener, obj]);\r\n    return true;\r\n};\r\n\r\n/**\r\n * Supprimer le __listener__ de la liste.\r\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\r\n * @return false si le __listener__  n'existe pas.\r\n */\r\nListeners.prototype.remove = function(listener, obj) {\r\n    if (typeof listener !== 'function') return false;\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        var x = this._list[i];\r\n        if (listener === x[0] && obj === x[1]) {\r\n            this._list.splice(i, 1);            \r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Supprimer tous les __listeners__ de la liste.\r\n */\r\nListeners.prototype.clear = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Emettre l'événement. Si un listener retourne ```false```, on n'appelle pas les listeners suivants.\r\n */\r\nListeners.prototype.fire = function() {\r\n    var i, listener, obj, x,\r\n        args = [].slice.call( arguments );\r\n    for (i = 0 ; i < this._list.length ; i++) {\r\n        x = this._list[i];\r\n        listener = x[0];\r\n        obj = x[1];\r\n        if (false === listener.apply(obj, args)) return false;\r\n    }    \r\n    return true;\r\n};\r\n\r\n\r\nmodule.exports = Listeners;\r\n });\r\n"],"names":["require","exports","module","Listeners","this","_list","prototype","add","listener","obj","remove","i","length","push","x","splice","clear","fire","args","slice","call","arguments","apply"],"mappings":"AAAAA,QAAS,gBAAiB,SAASC,EAASC,GAI5C,GAAIC,GAAY,WACZC,KAAKC,SASTF,GAAUG,UAAUC,IAAM,SAASC,EAAUC,GACzC,GAAwB,kBAAbD,GAAyB,OAAO,CAC3CJ,MAAKM,OAAOF,EACZ,KAAK,GAAIG,GAAI,EAAIA,EAAIP,KAAKC,MAAMO,OAASD,IACrC,GAAIH,IAAaJ,KAAKC,MAAMM,GAAI,OAAO,CAG3C,OADAP,MAAKC,MAAMQ,MAAML,EAAUC,KACpB,GAQXN,EAAUG,UAAUI,OAAS,SAASF,EAAUC,GAC5C,GAAwB,kBAAbD,GAAyB,OAAO,CAC3C,KAAK,GAAIG,GAAI,EAAIA,EAAIP,KAAKC,MAAMO,OAASD,IAAK,CAC1C,GAAIG,GAAIV,KAAKC,MAAMM,EACnB,IAAIH,IAAaM,EAAE,IAAML,IAAQK,EAAE,GAE/B,MADAV,MAAKC,MAAMU,OAAOJ,EAAG,IACd,EAGf,OAAO,GAMXR,EAAUG,UAAUU,MAAQ,WACxBZ,KAAKC,UAMTF,EAAUG,UAAUW,KAAO,WACvB,GAAIN,GAAGH,EAAUC,EAAKK,EAClBI,KAAUC,MAAMC,KAAMC,UAC1B,KAAKV,EAAI,EAAIA,EAAIP,KAAKC,MAAMO,OAASD,IAIjC,GAHAG,EAAIV,KAAKC,MAAMM,GACfH,EAAWM,EAAE,GACbL,EAAMK,EAAE,IACJ,IAAUN,EAASc,MAAMb,EAAKS,GAAO,OAAO,CAEpD,QAAO,GAIXhB,EAAOD,QAAUE"},"dependencies":["mod/tfw.listeners"]}