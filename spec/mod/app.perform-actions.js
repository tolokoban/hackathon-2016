require("app.perform-actions",function(r,t){function n(r){if(Array.isArray(r)){var t,e,o;for(t=0;t<r.length;t++)if(e=r[t],o=n(e),"undefined"!=typeof o&&"null"!==o)return o}else{if("function"==typeof r)return n(r.call(i));if("string"==typeof r){for(var u,a,f=0,p="";;){if(u=r.indexOf("{{",f),-1==u)break;if(p+=r.substr(f,u-f),f=u+2,a=r.indexOf("}}",f),-1==a)break;p+=i.get(r.substr(f,a-f).trim()),f=a+2}return p+r.substr(f)}}}var e=require("dom"),i=require("data"),o=require("x-template"),u=require("input-boolean"),a=require("input-text"),f=require("input-file"),p=require("input-date");t.exports=function(r){var t=e.div();return r.forEach(function(n,e){Array.isArray(n)||(console.error("Element #"+e+" should be an array!"),console.info("[app.perform-actions] child=...",n),console.info("[app.perform-actions] children=...",r));var i=n[0],o=s[i];if(!o)throw"Unknonw type `"+i+"`!";var u=o.apply(t,n.slice(1));return"string"==typeof u?void(location.hash="#"+u):void(u&&t.appendChild(u))}),t};var s={text:function(r){var t=e.tag("p");return t.innerHTML=n(r),t},button:function(r){var t=e.tag("a","button");return e.on(t,function(){var t=n(r.action);"string"==typeof t&&t.length>0&&(location.hash="#"+t)}),t.innerHTML=n(r.text),t},nurse:function(r){var t=e.div(),i=o.appendTo("nurse",t);return i.text.innerHTML=n(r),t},reset:function(r){i.reset();var t,n;for(t in r)n=r[t],i.set(t,n)},set:function(r){var t,n;for(t in r)n=r[t],i.set(t,n)},"input-bool":function(r){return u(r)},"input-text":function(r){return a(r)},"input-file":function(r){return f(r)},"input-date":function(r){return p(r)},loop:function(r,o){var u=n(r.list),a=n(r.item),f=n(r.sort),p=i.get(u);Array.isArray(p)||(p=[p]),"string"==typeof f&&f.trim().length>0&&(f=[f]),Array.isArray(f)&&p.sort(function(r,t){var n,e;for(n=0;n<f.length;n++){if(e=f[n],r[e]<t[e])return-1;if(r[e]>t[e])return 1}return 0}),"function"==typeof r.filter&&(p=p.filter(r.filter));var s=e.div();return p.forEach(function(r){i.set(a,r),s.appendChild(t.exports(o))}),s}}});
